{"version":3,"file":"components-ai-chat-content-ai-chat-content-stories.d9f2fc40.iframe.bundle.js","mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;ACjGA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA","sources":["webpack:///../aiwindow/ui/components/ai-chat-content/ai-chat-content.mjs","webpack:///../aiwindow/ui/components/ai-chat-content/ai-chat-content.stories.mjs"],"sourcesContent":["import __chrome_styles_loader__aichatcontentStyles from \"browser/components/aiwindow/ui/components/ai-chat-content/ai-chat-content.css\";\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { html } from \"chrome://global/content/vendor/lit.all.mjs\";\nimport { MozLitElement } from \"chrome://global/content/lit-utils.mjs\";\n\n/**\n * A custom element for managing AI Chat Content\n */\nexport class AIChatContent extends MozLitElement {\n  static properties = {\n    conversationState: { type: Array },\n  };\n\n  constructor() {\n    super();\n    this.conversationState = [];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.#initEventListeners();\n  }\n\n  /**\n   * Initialize event listeners for AI chat content events\n   */\n\n  #initEventListeners() {\n    this.addEventListener(\n      \"aiChatContentActor:message\",\n      this.messageEvent.bind(this)\n    );\n  }\n\n  messageEvent(event) {\n    const message = event.detail;\n    if (message.role === \"assistant\") {\n      this.handleAIResponseEvent(event);\n      return;\n    }\n    this.handleUserPromptEvent(event);\n  }\n\n  /**\n   *  Handle user prompt events\n   *\n   * @param {CustomeEvent} event - The custom event containing the user prompt\n   */\n\n  handleUserPromptEvent(event) {\n    const { content } = event.detail;\n    this.conversationState = [\n      ...this.conversationState,\n      { role: \"user\", content },\n    ];\n    this.requestUpdate();\n  }\n\n  /**\n   * Handle AI response events\n   *\n   * @param {CustomEvent} event - The custom event containing the response\n   */\n\n  handleAIResponseEvent(event) {\n    const { content, latestAssistantMessageIndex } = event.detail;\n    if (!this.conversationState[latestAssistantMessageIndex]) {\n      this.conversationState[latestAssistantMessageIndex] = {\n        role: \"assistant\",\n        content: \"\",\n      };\n    }\n    this.conversationState[latestAssistantMessageIndex] = {\n      ...this.conversationState[latestAssistantMessageIndex],\n      content,\n    };\n    this.requestUpdate();\n  }\n\n  render() {\n    return html`\n      <link\n        rel=\"stylesheet\"\n        href=\"${__chrome_styles_loader__aichatcontentStyles}\"\n      />\n      <div class=\"chat-content-wrapper\">\n        ${this.conversationState.map(\n          msg => html`<ai-chat-message .message=${msg}></ai-chat-message>`\n        )}\n      </div>\n    `;\n  }\n}\n\ncustomElements.define(\"ai-chat-content\", AIChatContent);\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { html } from \"chrome://global/content/vendor/lit.all.mjs\";\nimport \"chrome://browser/content/aiwindow/components/ai-chat-content.mjs\";\n\nexport default {\n  title: \"Domain-specific UI Widgets/AI Window/AI Chat Content\",\n  component: \"ai-chat-content\",\n  argTypes: {\n    conversationState: {\n      control: { type: \"object\" },\n    },\n  },\n};\n\nconst Template = ({ conversationState }) => html`\n  <ai-chat-content .conversationState=${conversationState}></ai-chat-content>\n`;\n\nexport const Empty = Template.bind({});\nEmpty.args = {\n  conversationState: [],\n};\n\nexport const SingleUserMessage = Template.bind({});\nSingleUserMessage.args = {\n  conversationState: [\n    { role: \"user\", content: \"What is the weather like today?\" },\n  ],\n};\n\nexport const Conversation = Template.bind({});\nConversation.args = {\n  conversationState: [\n    { role: \"user\", content: \"Test: What is the weather like today?\" },\n    {\n      role: \"assistant\",\n      content:\n        \"Test: I don't have access to real-time weather data, but I can help you with other tasks!\",\n    },\n    { role: \"user\", content: \"Test: Can you help me with coding?\" },\n    {\n      role: \"assistant\",\n      content:\n        \"Test: Yes, I can help you with coding! What programming language or problem are you working on?\",\n    },\n  ],\n};\n"],"names":[],"sourceRoot":""}