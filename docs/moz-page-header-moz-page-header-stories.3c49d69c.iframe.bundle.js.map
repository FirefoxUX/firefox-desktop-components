{"version":3,"file":"moz-page-header-moz-page-header-stories.3c49d69c.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;AC3IA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACpGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///../../../toolkit/content/widgets/moz-breadcrumb-group/moz-breadcrumb-group.mjs","webpack:///../../../toolkit/content/widgets/moz-breadcrumb-group/moz-breadcrumb-group.stories.mjs","webpack:///../../../toolkit/content/widgets/moz-page-header/moz-page-header.stories.mjs","webpack:///../../../toolkit/content/widgets/moz-page-header/moz-page-header.mjs"],"sourcesContent":["import __chrome_styles_loader__mozbreadcrumbgroupStyles from \"toolkit/content/widgets/moz-breadcrumb-group/moz-breadcrumb-group.css\";\nimport __chrome_styles_loader__mozbreadcrumbStyles from \"toolkit/content/widgets/moz-breadcrumb-group/moz-breadcrumb.css\";\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { html } from \"../vendor/lit.all.mjs\";\nimport { MozLitElement } from \"../lit-utils.mjs\";\n\nwindow.MozXULElement?.insertFTLIfNeeded(\n  \"toolkit/global/mozBreadcrumbGroup.ftl\"\n);\n\n/**\n * @tagname moz-breadcrumb\n * @property {string} href\n * @property {string} label\n */\n\nexport class MozBreadcrumb extends MozLitElement {\n  static properties = {\n    href: { type: String },\n    label: { type: String, fluent: true },\n    ariaCurrent: { attribute: \"aria-current\", type: String },\n  };\n\n  constructor() {\n    super();\n    this.label = \"\";\n    this.href = \"\";\n  }\n\n  render() {\n    const labelTemplate = this.label || html`<slot></slot>`;\n    return html`\n      <link\n        rel=\"stylesheet\"\n        href=\"${__chrome_styles_loader__mozbreadcrumbStyles}\"\n      />\n      ${this.ariaCurrent\n        ? labelTemplate\n        : html`<a href=${this.href}>${labelTemplate}</a>`}\n    `;\n  }\n}\n\ncustomElements.define(\"moz-breadcrumb\", MozBreadcrumb);\n\n/**\n * @tagname moz-breadcrumb-group\n */\nexport class MozBreadcrumbGroup extends MozLitElement {\n  /**\n   * @type {MutationObserver | void}\n   */\n  #observer;\n\n  /**\n   * Fired when a breadcrumb is either\n   * added or removed from the DOM, at which\n   * an update is requested to re-render breadcrumbs.\n   *\n   * @type {MutationCallback}\n   */\n  #onBreadcrumbMutation(mutations) {\n    for (const mutation of mutations) {\n      if (mutation.type === \"childList\") {\n        this.requestUpdate();\n      }\n    }\n  }\n\n  /**\n   * @type {Array<MozBreadcrumb>}\n   */\n  get breadcrumbs() {\n    /**\n     * @type {NodeListOf<MozBreadcrumb>}\n     */\n    const breadcrumbElements = this.querySelectorAll(\"moz-breadcrumb\");\n    return Array.from(breadcrumbElements);\n  }\n\n  setupBreadcrumbs() {\n    const { breadcrumbs } = this;\n    return breadcrumbs.map((breadcrumb, i) => {\n      breadcrumb.setAttribute(\"slot\", i + \"\");\n\n      if (i === breadcrumbs.length - 1) {\n        breadcrumb.setAttribute(\"aria-current\", \"page\");\n      }\n\n      return breadcrumb;\n    });\n  }\n\n  update() {\n    super.update();\n    this.setupBreadcrumbs();\n  }\n\n  firstUpdated() {\n    if (!this.#observer) {\n      this.#observer = new MutationObserver((mutations, observer) =>\n        this.#onBreadcrumbMutation(mutations, observer)\n      );\n      this.#observer.observe(this, {\n        childList: true,\n      });\n    }\n  }\n\n  disconnectedCallback() {\n    if (this.#observer) {\n      this.#observer.disconnect();\n      this.#observer = undefined;\n    }\n    super.disconnectedCallback();\n  }\n\n  render() {\n    return html`\n      <link\n        rel=\"stylesheet\"\n        href=\"${__chrome_styles_loader__mozbreadcrumbgroupStyles}\"\n      />\n      <nav data-l10n-id=\"moz-breadcrumb-group-nav\">\n        <ol>\n          ${this.breadcrumbs.map((breadcrumb, i) => {\n            return html`<li>\n              <slot name=${i}></slot>\n            </li>`;\n          })}\n        </ol>\n      </nav>\n    `;\n  }\n}\n\ncustomElements.define(\"moz-breadcrumb-group\", MozBreadcrumbGroup);\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { html, ifDefined } from \"../vendor/lit.all.mjs\";\nimport \"./moz-breadcrumb-group.mjs\";\n\nexport default {\n  title: \"UI Widgets/Breadcrumb Group\",\n  component: \"moz-breadcrumbs-group\",\n  parameters: {\n    status: \"in-development\",\n    fluent: `\nmoz-breadcrumb-first =\n  .label = First page\nmoz-breadcrumb-second =\n  .label = Previous page\nmoz-breadcrumb-third =\n  .label = Current page\n    `,\n  },\n};\n\nconst Template = ({ l10nId, width, slot }) => {\n  return html`\n    <style>\n      ${width\n        ? `moz-breadcrumb-group {\n            width: ${width}px;\n            overflow: hidden;\n          }`\n        : \"\"}\n    </style>\n    <moz-breadcrumb-group slot=${ifDefined(slot)}>\n      <moz-breadcrumb\n        href=\"about#firstpage\"\n        data-l10n-id=${ifDefined(l10nId + \"-first\")}\n      ></moz-breadcrumb>\n      <moz-breadcrumb\n        data-l10n-id=${ifDefined(l10nId + \"-second\")}\n        href=\"about#prevpage\"\n      ></moz-breadcrumb>\n      <moz-breadcrumb\n        href=\"about#currentpage\"\n        data-l10n-id=${ifDefined(l10nId + \"-third\")}\n      ></moz-breadcrumb>\n    </moz-breadcrumb-group>\n  `;\n};\n\nexport const Default = Template.bind({});\nDefault.args = {\n  l10nId: \"moz-breadcrumb\",\n};\nexport const NarrowWidth = Template.bind({});\nNarrowWidth.args = {\n  ...Default.args,\n  width: 180,\n};\n","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { html, ifDefined } from \"../vendor/lit.all.mjs\";\nimport \"./moz-page-header.mjs\";\nimport { Default as Breadcrumbs } from \"../moz-breadcrumb-group/moz-breadcrumb-group.stories.mjs\";\n\nexport default {\n  title: \"UI Widgets/Page Header\",\n  component: \"moz-page-header\",\n  argTypes: {\n    l10nId: {\n      options: [\n        \"moz-page-header-heading\",\n        \"moz-page-header-description\",\n        \"moz-page-header-long\",\n      ],\n      control: { type: \"select\" },\n    },\n  },\n  parameters: {\n    status: \"in-development\",\n    fluent: `\nmoz-page-header-heading =\n  .heading = This is the page heading\nmoz-page-header-description =\n  .heading = This is the page heading\n  .description = This is a description of the page\nmoz-page-header-long =\n  .heading = Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum libero enim, luctus eu ante a, maximus imperdiet mi. Suspendisse sodales, nisi et commodo malesuada, lectus.\n  .description = Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum libero enim, luctus eu ante a, maximus imperdiet mi. Suspendisse sodales, nisi et commodo malesuada, lectus.\nmoz-breadcrumb-first =\n  .label = First page\nmoz-breadcrumb-second =\n  .label = Previous page\nmoz-breadcrumb-third =\n  .label = Current page\n    `,\n  },\n};\n\nconst Template = ({\n  l10nId,\n  backButton,\n  iconSrc,\n  supportPage,\n  showBreadcrumbs,\n}) => html`\n  <moz-page-header\n    data-l10n-id=${l10nId}\n    iconsrc=${ifDefined(iconSrc)}\n    support-page=${ifDefined(supportPage)}\n    ?backbutton=${backButton}\n  >\n    ${showBreadcrumbs\n      ? Breadcrumbs({\n          slot: \"breadcrumbs\",\n          ...Breadcrumbs.args,\n        })\n      : \"\"}\n  </moz-page-header>\n`;\n\nexport const Default = Template.bind({});\nDefault.args = {\n  l10nId: \"moz-page-header-heading\",\n  iconSrc: \"\",\n  backButton: false,\n  showBreadcrumbs: false,\n};\n\nexport const WithBackButton = Template.bind({});\nWithBackButton.args = {\n  ...Default.args,\n  backButton: true,\n};\n\nexport const WithIcon = Template.bind({});\nWithIcon.args = {\n  ...WithBackButton.args,\n  iconSrc: \"chrome://global/skin/icons/highlights.svg\",\n};\n\nexport const WithDescription = Template.bind({});\nWithDescription.args = {\n  ...WithBackButton.args,\n  l10nId: \"moz-page-header-description\",\n};\n\nexport const WithSupportPage = Template.bind({});\nWithSupportPage.args = {\n  ...WithDescription.args,\n  supportPage: \"test\",\n};\n\nexport const WithBreadcrumbs = Template.bind({});\nWithBreadcrumbs.args = {\n  ...WithBackButton.args,\n  showBreadcrumbs: true,\n};\n","import __chrome_styles_loader__textandtypographyStyles from \"toolkit/themes/shared/design-system/src/text-and-typography.css\";\nimport __chrome_styles_loader__mozpageheaderStyles from \"toolkit/content/widgets/moz-page-header/moz-page-header.css\";\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport { html } from \"../vendor/lit.all.mjs\";\nimport { MozLitElement } from \"../lit-utils.mjs\";\n\nwindow.MozXULElement?.insertFTLIfNeeded(\"toolkit/global/mozPageHeader.ftl\");\n\n/**\n * A header component for providing context about a specific page.\n *\n * @tagname moz-page-header\n * @property {string} heading - The page title text.\n * @property {string} description - Secondary text shown under the heading.\n * @property {string} iconSrc - The src for an optional icon.\n * @property {string} supportPage - Optional URL for a related support article.\n * @property {boolean} backButton - Whether or not the header should include a back button.\n * @slot breadcrumbs - Container for a <moz-breadcrumb-group, shown above the heading.\n * @fires navigate-back\n *  Event indicating the backwards navigation should occur.\n */\nexport default class MozPageHeader extends MozLitElement {\n  static properties = {\n    heading: { type: String, fluent: true },\n    description: { type: String, fluent: true },\n    iconSrc: { type: String },\n    supportPage: { type: String, attribute: \"support-page\" },\n    backButton: { type: Boolean },\n  };\n\n  static queries = {\n    headingEl: \"h1\",\n    backButtonEl: \"moz-button\",\n  };\n\n  constructor() {\n    super();\n    this.heading = \"\";\n    this.description = \"\";\n    this.iconSrc = \"\";\n    this.supportPage = \"\";\n    this.backButton = false;\n  }\n\n  backButtonTemplate() {\n    if (!this.backButton) {\n      return \"\";\n    }\n    return html`<moz-button\n      type=\"ghost\"\n      data-l10n-id=\"back-nav-button-title\"\n      iconsrc=\"chrome://global/skin/icons/arrow-left.svg\"\n      class=\"back-button\"\n      @click=${this.handleBack}\n    ></moz-button>`;\n  }\n\n  iconTemplate() {\n    if (!this.iconSrc) {\n      return \"\";\n    }\n    return html`<img src=${this.iconSrc} role=\"presentation\" class=\"icon\" />`;\n  }\n\n  descriptionTemplate() {\n    if (!this.description) {\n      return \"\";\n    }\n    return html`<span class=\"description\" id=\"description\">\n        ${this.description}\n      </span>\n      ${this.supportLinkTemplate()}`;\n  }\n\n  supportLinkTemplate() {\n    if (!this.supportPage) {\n      return \"\";\n    }\n    return html`<a\n      is=\"moz-support-link\"\n      support-page=${this.supportPage}\n      part=\"support-link\"\n      class=\"support-link\"\n      aria-describedby=${this.description ? \"description\" : \"heading\"}\n    ></a>`;\n  }\n\n  handleBack() {\n    this.dispatchEvent(new Event(\"navigate-back\"));\n  }\n\n  render() {\n    return html`\n      <link\n        rel=\"stylesheet\"\n        href=\"${__chrome_styles_loader__mozpageheaderStyles}\"\n      />\n      <link\n        rel=\"stylesheet\"\n        href=\"${__chrome_styles_loader__textandtypographyStyles}\"\n      />\n      <div class=\"page-header-container\">\n        <slot name=\"breadcrumbs\"></slot>\n        <div class=\"heading\">\n          ${this.backButtonTemplate()}${this.iconTemplate()}\n          <h1 id=\"heading\">${this.heading}</h1>\n          ${!this.description ? this.supportLinkTemplate() : \"\"}\n        </div>\n        ${this.descriptionTemplate()}\n      </div>\n    `;\n  }\n}\ncustomElements.define(\"moz-page-header\", MozPageHeader);\n"],"names":[],"sourceRoot":""}