{"version":3,"file":"component-status-component-status-stories.6da2910c.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AAKA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AA0DA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAkBA;;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAKA;AAAA;AAAA;AAAA;AAEA;AACA;AAWA;AAAA;AAYA;AAOA;AAAA;AAAA;AAzIA;AAEA;AAAA;AAAA;AACA;AAAA;AAyIA;AAEA;AACA;AACA","sources":["webpack:///./component-status/component-status.stories.mjs"],"sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/. */\n\nimport {\n  LitElement,\n  html,\n  css,\n} from \"chrome://global/content/vendor/lit.all.mjs\";\nimport componentsData from \"./components.json\";\n\n/* DS styles */\nimport dsTokensTable from \"toolkit/themes/shared/design-system/storybook/tokens-table.css\";\n\nexport default {\n  title: \"Docs/Component Statuses\",\n  parameters: {\n    options: { showPanel: false },\n    docs: { source: { state: \"closed\" } },\n  },\n};\n\n/**\n * A component that displays the UI Widget Reusable Library components.\n *\n * Features:\n * - Lists all reusable UI components from toolkit/content/widgets\n * - Provides direct links to:\n *   - Individual component\n *   - Component source code in SearchFox\n *   - Related Bugzilla ticket\n * - Shows implementation progress status for each component\n *\n * @see {@link https://bugzilla.mozilla.org/show_bug.cgi?id=1795301} Main tracking bug\n */\nclass ComponentStatusList extends LitElement {\n  static properties = {\n    _components: { state: true },\n  };\n\n  static styles = css`\n    tr td:first-of-type {\n      color-scheme: unset;\n    }\n\n    tr td {\n      border-bottom-color: var(--border-color);\n    }\n\n    /* the button look */\n    a {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      padding: var(--space-xsmall) var(--space-small);\n      border: var(--border-width) solid var(--border-color);\n      border-radius: var(--border-radius-small);\n      background: var(--button-background-color);\n      color: var(--link-color); /* prevent visited purple */\n      text-decoration: none;\n      line-height: 1;\n      min-inline-size: 0;\n      cursor: pointer;\n    }\n\n    /* hover/active */\n    a:hover {\n      background: var(--button-background-color-hover);\n    }\n\n    /* arrow only on external buttons */\n    a[target=\"_blank\"]::after {\n      content: \"â†—\" !important; /* wins over any earlier content:none */\n      margin-inline-start: var(--space-small);\n      font-size: var(--font-size-small);\n      line-height: 1;\n      opacity: 0.8;\n    }\n  `;\n\n  constructor() {\n    super();\n\n    this._components = Array.isArray(componentsData?.items)\n      ? componentsData.items\n      : [];\n  }\n\n  render() {\n    return html`\n      <link rel=\"stylesheet\" href=${dsTokensTable} />\n      <header>\n        <h1>Component Statuses</h1>\n        <p>\n          Tracking\n          <a\n            href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1795301\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            >reusable components</a\n          >\n          from\n          <code>toolkit/content/widgets</code>.\n        </p>\n      </header>\n      <div class=\"table-wrapper\">${this._renderTable()}</div>\n    `;\n  }\n\n  /********  Helpers *********/\n  // Get story Id href\n  _storyHrefFromId(storyId) {\n    return storyId ? `/?path=/story/${storyId}` : \"#\";\n  }\n\n  _renderLinkGroup(it) {\n    const storyHref = this._storyHrefFromId(it.storyId);\n    const links = [[\"Story\", storyHref, { top: true }]];\n    if (it.sourceUrl) {\n      links.push([\"Source\", it.sourceUrl, { top: false }]);\n    }\n    const bugUrl = it.bugUrl;\n    if (bugUrl && /bugzilla\\.mozilla\\.org/.test(bugUrl)) {\n      links.push([\"Bugzilla\", bugUrl, { top: false }]);\n    }\n\n    return html`\n      ${links.map(\n        ([label, href, opts = {}]) => html`\n          <a\n            href=${href}\n            rel=\"noreferrer\"\n            target=${opts.top ? \"_top\" : \"_blank\"}\n          >\n            ${label}\n          </a>\n        `\n      )}\n    `;\n  }\n\n  _renderTable() {\n    return html`\n      <table class=\"token-table\">\n        <thead>\n          <tr>\n            <th>Component</th>\n            <th>Status</th>\n            <th>Links</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${this._components.map(\n            it => html`\n              <tr>\n                <td>\n                  <a\n                    href=${this._storyHrefFromId(it.storyId)}\n                    target=\"_top\"\n                    rel=\"noreferrer\"\n                  >\n                    ${it.component}\n                  </a>\n                </td>\n                <td>${it.status ?? \"unknown\"}</td>\n                <td>${this._renderLinkGroup(it)}</td>\n              </tr>\n            `\n          )}\n        </tbody>\n      </table>\n    `;\n  }\n}\n\ncustomElements.define(\"component-status-list\", ComponentStatusList);\n\nexport const Default = () => {\n  return html`<component-status-list></component-status-list>`;\n};\n"],"names":[],"sourceRoot":""}